(this.webpackJsonpcart=this.webpackJsonpcart||[]).push([[0],{26:function(t,e,c){},34:function(t,e,c){"use strict";c.r(e);var n=c(9),o=c.n(n),i=c(17),a=c.n(i),d=(c(26),c(18)),r=c(19),s=c(21),l=c(20),u=c(4),p={image:{height:110,width:110,borderRadius:4,background:"#ccc",objectFit:"cover"}},h=function(t){var e=t.product,c=e.price,n=e.title,o=e.qty,i=t.product,a=t.onIncreaseQuantity,d=t.onDecreaseQuantity,r=t.onDeleteProduct;return Object(u.jsxs)("div",{className:"cart-item",children:[Object(u.jsx)("div",{className:"left-block",children:Object(u.jsx)("img",{style:p.image,alt:"",src:i.img})}),Object(u.jsxs)("div",{className:"right-block",children:[Object(u.jsx)("div",{style:{font:25},children:n}),Object(u.jsxs)("div",{style:{color:"#777"},children:["Rs:",c]}),Object(u.jsxs)("div",{style:{color:"#777"},children:["Qty:",o]}),Object(u.jsxs)("div",{className:"cart-item-actions",children:[Object(u.jsx)("img",{alt:"increase",className:"action-icons",src:"https://image.flaticon.com/icons/png/512/992/992651.png",onClick:function(){return a(i)}}),Object(u.jsx)("img",{alt:"decrease",className:"action-icons",src:"https://image.flaticon.com/icons/png/512/992/992683.png",onClick:function(){return d(i)}}),Object(u.jsx)("img",{alt:"delete",className:"action-icons",src:"https://image.flaticon.com/icons/png/512/1345/1345874.png",onClick:function(){return r(i.id)}})]})]})]})},f=function(t){var e=t.products;return Object(u.jsx)("div",{className:"cart",children:e.map((function(e){return Object(u.jsx)(h,{product:e,onIncreaseQuantity:t.onIncreaseQuantity,onDecreaseQuantity:t.onDecreaseQuantity,onDeleteProduct:t.onDeleteProduct},e.id)}))})},g={cartIcon:{height:32,marginRight:20},nav:{height:70,background:"#4267b2",display:"flex",justifyContent:"flex-end",alignItems:"center"},cartIconContainer:{position:"ralative"},cartCount:{background:"yellow",borderRadius:"50%",padding:"4px 8px",position:"absolute",right:4,top:2}},b=function(t){return Object(u.jsx)("div",{style:g.nav,children:Object(u.jsxs)("div",{style:g.cartIconContainer,children:[Object(u.jsx)("img",{src:"https://image.flaticon.com/icons/png/512/833/833314.png",alt:"cart-icon",style:g.cartIcon}),Object(u.jsx)("span",{style:g.cartCount,children:t.count})]})})},j=c(11),m=function(t){Object(s.a)(c,t);var e=Object(l.a)(c);function c(){var t;return Object(d.a)(this,c),(t=e.call(this)).handleIncreaseQuantity=function(e){var c=t.state.products,n=c.indexOf(e);t.db.collection("products").doc(c[n].id).update({qty:c[n].qty+1}).then((function(){console.log("Product Incremented Succesfully")})).catch((function(t){console.log("Error occured in Increment",t)}))},t.handleDecreaseQuantity=function(e){var c=t.state.products,n=c.indexOf(e);0!==c[n].qty&&t.db.collection("products").doc(c[n].id).update({qty:c[n].qty-1}).then((function(){console.log("Product Decremented Succesfully")})).catch((function(t){console.log("Error occured in Decrement",t)}))},t.handleDeleteProduct=function(e){t.state.products;t.db.collection("products").doc(e).delete().then((function(){console.log("Product Deleted Succesfully")})).catch((function(t){console.log("Error occured in Deletion",t)}))},t.getCartCount=function(){var e=t.state.products,c=0;return e.forEach((function(t){c+=t.qty})),c},t.getCartTotal=function(){var e=t.state.products,c=0;return e.map((function(t){return c+=t.qty*t.price,""})),c},t.addWashingMachine=function(){t.db.collection("products").add({img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSCxmlUFYSP1YWsmnS-0U7C5bVLmhftyrfERA&usqp=CAU",price:5e3,qty:1,title:"Washing Machine"}).then((function(t){console.log("Product Added",t)})).catch((function(t){console.log("Error Occured",t)}))},t.addLaptop=function(){t.db.collection("products").add({img:"https://images.unsplash.com/photo-1496181133206-80ce9b88a853?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=751&q=80",price:35e3,qty:1,title:"Laptop"}).then((function(t){console.log("Product Added",t)})).catch((function(t){console.log("Error Occured",t)}))},t.addMobilePhone=function(){t.db.collection("products").add({img:"https://images.unsplash.com/photo-1589492477829-5e65395b66cc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80",price:1e4,qty:1,title:"Mobile Phone"}).then((function(t){console.log("Product Added",t)})).catch((function(t){console.log("Error Occured",t)}))},t.addWatch=function(){t.db.collection("products").add({img:"https://images.unsplash.com/photo-1524805444758-089113d48a6d?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80",price:1e4,qty:1,title:"Watch"}).then((function(t){console.log("Product Added",t)})).catch((function(t){console.log("Error Occured",t)}))},t.state={products:[],loading:!0},t.db=j.a.firestore(),t}return Object(r.a)(c,[{key:"componentDidMount",value:function(){var t=this;this.db.collection("products").orderBy("price","desc").onSnapshot((function(e){console.log(e),e.docs.map((function(t){console.log(t.data())}));var c=e.docs.map((function(t){var e=t.data();return e.id=t.id,e}));t.setState({products:c,loading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.products,c=t.loading;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(b,{count:this.getCartCount()}),Object(u.jsx)(f,{products:e,onIncreaseQuantity:this.handleIncreaseQuantity,onDecreaseQuantity:this.handleDecreaseQuantity,onDeleteProduct:this.handleDeleteProduct}),c&&Object(u.jsx)("h1",{children:"loading products..."}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:this.addWashingMachine,style:{padding:20,fontSize:15,margin:20,background:"#d5deef"},children:"Add Washing Machine"}),Object(u.jsx)("button",{onClick:this.addLaptop,style:{padding:20,fontSize:15,margin:20,paddingLeft:57,paddingRight:57,background:"#d5deef"},children:"Add Laptop"}),Object(u.jsx)("button",{onClick:this.addMobilePhone,style:{padding:20,fontSize:15,margin:20,paddingLeft:33,paddingRight:33,background:"#d5deef"},children:"Add Mobile Phone"}),Object(u.jsx)("button",{onClick:this.addWatch,style:{padding:20,fontSize:15,margin:20,paddingLeft:60,paddingRight:60,background:"#d5deef"},children:"Add Watch"})]}),Object(u.jsxs)("div",{style:{padding:10,fontSize:20,margin:15,fontWeight:"bold"},children:["TOTAL: ",this.getCartTotal()]})]})}}]),c}(o.a.Component);c(33);j.a.initializeApp({apiKey:"AIzaSyD5wiMQ0eATSPkPDLVP5SB3waOMU8a7jQ4",authDomain:"cart-57f6b.firebaseapp.com",projectId:"cart-57f6b",storageBucket:"cart-57f6b.appspot.com",messagingSenderId:"789282744057",appId:"1:789282744057:web:416f64ba3ce6e96e122428"}),a.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.34754a79.chunk.js.map